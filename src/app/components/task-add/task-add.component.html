<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">{{ isEditMode ? 'Editar' : 'Nueva' }} Tarea</h5>
      <button
        type="button"
        class="btn-close"
        (click)="closeModal()"
      >
        <i class="bi bi-x-circle"></i>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="taskForm" (ngSubmit)="onSubmit($event)">
        <div class="form-group">
          `
          <label class="custom-label" for="title">Título</label>
          <input
            type="text"
            class="form-control custom-input"
            id="title"
            formControlName="title"
            placeholder="¿Qué necesita ser hecho?"
          />
          <small
            *ngIf="
              taskForm.get('title')?.invalid && taskForm.get('title')?.touched
            "
            class="text-danger"
          >
            El título es obligatorio.
          </small>
        </div>

        <div class="form-group">
          <label class="custom-label" for="description">Descripción</label>
          <textarea
            class="form-control custom-textarea"
            id="description"
            rows="3"
            formControlName="description"
          ></textarea>
          <small
            *ngIf="
              taskForm.get('description')?.invalid &&
              taskForm.get('description')?.touched
            "
            class="text-danger"
          >
            La descripción es obligatoria.
          </small>
        </div>

        <div class="form-group">
          <label class="custom-label">Estado</label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              formControlName="status"
              id="pending"
              [value]="0"
            />
            <label class="form-check-label" for="pending">Pendiente</label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              formControlName="status"
              id="inProgress"
              [value]="1"
            />
            <label class="form-check-label" for="inProgress">En progreso</label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              formControlName="status"
              id="completed"
              [value]="2"
            />
            <label class="form-check-label" for="completed">Completado</label>
          </div>
        </div>
        <!-- Botón con estados -->
        <button
          type="submit"
          class="btn btn-primary btn-block"
          [ngClass]="{
            'btn-loading': isLoading,
            'btn-success': isSuccess,
            'btn-error': isError
          }"
          [disabled]="isLoading || isSuccess || isError"
        >
          <span
            *ngIf="isLoading"
            class="spinner-border spinner-border-sm"
          ></span>
          <i *ngIf="isSuccess" class="bi bi-check-circle"></i>
          <i *ngIf="isError" class="bi bi-x-circle"></i>
          <span *ngIf="!isLoading && !isSuccess && !isError">{{isEditMode ? 'Editar' : 'Crear'}}</span>
        </button>
      </form>
    </div>
  </div>
</div>
